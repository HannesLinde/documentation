
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Metadata Â· Livingdocs Technical Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Livingdocs">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="search-filters.html" />
    
    
    <link rel="prev" href="../../walkthroughs/add_customizations.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../getting_started.html">
            
                <a href="../../getting_started.html">
            
                    
                    Getting started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../walkthroughs/getting-started-with-local-development.html">
            
                <a href="../../walkthroughs/getting-started-with-local-development.html">
            
                    
                    Setting up Livingdocs locally
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../GLOSSARY.html">
            
                <a href="../../GLOSSARY.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Livingdocs Design</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../common-designs/create_designs.html">
            
                <a href="../common-designs/create_designs.html">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../common-designs/component_config.html">
            
                <a href="../common-designs/component_config.html">
            
                    
                    Livingdocs components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../common-designs/design_config.html">
            
                <a href="../common-designs/design_config.html">
            
                    
                    Design configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../common-designs/list_example.html">
            
                <a href="../common-designs/list_example.html">
            
                    
                    Bullet List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../../concepts/document-migrations/migrations.html">
            
                <a href="../../concepts/document-migrations/migrations.html">
            
                    
                    Design migrations
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Livingdocs Customizations</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../walkthroughs/add_customizations.html">
            
                <a href="../../walkthroughs/add_customizations.html">
            
                    
                    Register customizations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../../walkthroughs/add_customizations.html">
            
                <a href="../../walkthroughs/add_customizations.html#server">
            
                    
                    Server
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="../server-configuration/metadata.html">
            
                <a href="../server-configuration/metadata.html">
            
                    
                    Metadata
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="../server-extensions/add-custom-include.html">
            
                <a href="../server-extensions/add-custom-include.html">
            
                    
                    Adding Includes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="../server-extensions/events.html">
            
                <a href="../server-extensions/events.html">
            
                    
                    Available Events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.4" data-path="../server-configuration/config.html">
            
                <a href="../server-configuration/config.html">
            
                    
                    Configure the server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.5" data-path="../server-configuration/channel-config.html">
            
                <a href="../server-configuration/channel-config.html">
            
                    
                    Configure channels
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.6" data-path="../server-extensions/publish-hooks.html">
            
                <a href="../server-extensions/publish-hooks.html">
            
                    
                    Publish and Unpublish Hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.7" data-path="../server-public-api/routing-system.html">
            
                <a href="../server-public-api/routing-system.html">
            
                    
                    Routing system
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../../walkthroughs/add_customizations.html">
            
                <a href="../../walkthroughs/add_customizations.html#editor">
            
                    
                    Editor
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="3.3.1" data-path="metadata.html">
            
                <a href="metadata.html">
            
                    
                    Metadata
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.2" data-path="search-filters.html">
            
                <a href="search-filters.html">
            
                    
                    Dashboard search filters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.3" data-path="text-editing.html">
            
                <a href="text-editing.html">
            
                    
                    Cofigure text editing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.4" data-path="image-cropping.html">
            
                <a href="image-cropping.html">
            
                    
                    Configure image cropping
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.5" data-path="editing-features.html">
            
                <a href="editing-features.html">
            
                    
                    Configure editing features
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../../concepts/metadata/metadata-examples.html">
            
                <a href="../../concepts/metadata/metadata-examples.html">
            
                    
                    Metadata Example (editor and server)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../server-print-api/print-api.html">
            
                <a href="../server-print-api/print-api.html">
            
                    
                    Print API
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Devops</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../../setup-and-deployment/self-hosting.html">
            
                <a href="../../setup-and-deployment/self-hosting.html">
            
                    
                    Hosting Livingdocs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../../setup-and-deployment/hardware-requirements.html">
            
                <a href="../../setup-and-deployment/hardware-requirements.html">
            
                    
                    Hardware Requirements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../../setup-and-deployment/high-availability/">
            
                <a href="../../setup-and-deployment/high-availability/">
            
                    
                    Architecture
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.2.1" data-path="../../setup-and-deployment/high-availability/high-availability-setup.html">
            
                <a href="../../setup-and-deployment/high-availability/high-availability-setup.html">
            
                    
                    high-availability
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="../../setup-and-deployment/docker/">
            
                <a href="../../setup-and-deployment/docker/">
            
                    
                    Docker
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.3.1" data-path="../../setup-and-deployment/docker/build-docker-images.html">
            
                <a href="../../setup-and-deployment/docker/build-docker-images.html">
            
                    
                    Build docker images
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="../../setup-and-deployment/external-services.html">
            
                <a href="../../setup-and-deployment/external-services.html">
            
                    
                    External services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.5" data-path="../../setup-and-deployment/proxy.html">
            
                <a href="../../setup-and-deployment/proxy.html">
            
                    
                    Proxy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.6" data-path="../../setup-and-deployment/npm/access-private-npm-modules.html">
            
                <a href="../../setup-and-deployment/npm/access-private-npm-modules.html">
            
                    
                    NPM Tokens
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../server-configuration/design-servers.html">
            
                <a href="../server-configuration/design-servers.html">
            
                    
                    Design Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../maintenance/how-to-do-a-load-test.html">
            
                <a href="../maintenance/how-to-do-a-load-test.html">
            
                    
                    Load Testing
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Administration</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../../walkthroughs/create-users.html">
            
                <a href="../../walkthroughs/create-users.html">
            
                    
                    Create Users
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../server-configuration/logging.html">
            
                <a href="../server-configuration/logging.html">
            
                    
                    Logs
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Livingdocs core development</li>
        
        
    
        <li class="chapter " data-level="6.1" >
            
                <span>
            
                    
                    Editor
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1" data-path="../editor-styleguide/styleguide.html">
            
                <a href="../editor-styleguide/styleguide.html">
            
                    
                    Styleguide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.2" data-path="../../concepts/images/image-services.html">
            
                <a href="../../concepts/images/image-services.html">
            
                    
                    Image Services
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.2" >
            
                <span>
            
                    
                    Server
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.2.1" data-path="../server-editing-api/">
            
                <a href="../server-editing-api/">
            
                    
                    Editing API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.2.1.1" data-path="../server-editing-api/api_basics.html">
            
                <a href="../server-editing-api/api_basics.html">
            
                    
                    Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.1.2" data-path="../server-editing-api/api_cors.html">
            
                <a href="../server-editing-api/api_cors.html">
            
                    
                    CORS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.1.3" data-path="../server-editing-api/api_errors.html">
            
                <a href="../server-editing-api/api_errors.html">
            
                    
                    Error
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.1.4" data-path="../server-editing-api/editing_api_authentication.html">
            
                <a href="../server-editing-api/editing_api_authentication.html">
            
                    
                    Authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.1.5" data-path="../server-editing-api/editing_api_design.html">
            
                <a href="../server-editing-api/editing_api_design.html">
            
                    
                    Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.1.6" data-path="../server-editing-api/editing_api_list.md">
            
                <span>
            
                    
                    Lists
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.1.7" data-path="../server-editing-api/editing_api_documents.html">
            
                <a href="../server-editing-api/editing_api_documents.html">
            
                    
                    Documents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.1.8" data-path="../server-editing-api/editing_api_revisions.html">
            
                <a href="../server-editing-api/editing_api_revisions.html">
            
                    
                    Revisions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.1.9" data-path="../server-editing-api/editing_api_publications.html">
            
                <a href="../server-editing-api/editing_api_publications.html">
            
                    
                    Publications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.1.10" data-path="../server-editing-api/editing_api_users.html">
            
                <a href="../server-editing-api/editing_api_users.html">
            
                    
                    Users
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.1.11" data-path="../server-editing-api/editing_api_spaces.html">
            
                <a href="../server-editing-api/editing_api_spaces.html">
            
                    
                    Projects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.1.12" data-path="../server-editing-api/editing_api_hooks.html">
            
                <a href="../server-editing-api/editing_api_hooks.html">
            
                    
                    Hooks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../maintenance/release-management/">
            
                <a href="../maintenance/release-management/">
            
                    
                    Releases
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.3.1" data-path="../maintenance/release-management/deployment-pipeline.html">
            
                <a href="../maintenance/release-management/deployment-pipeline.html">
            
                    
                    Deployment
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation" style="background-color: #3a2f3c; height: 50px; position: fixed; width: 100%">
    <a href="https://www.livingdocs.io"><img src="https://livingdocs.io/assets/images/livingdocs-logo-inverted.svg" style="width: 200px; padding: 15px 40px" /></a>
    

    <!-- Title -->
    <h1 style="position: absolute; top: 0; left: 30%; color: white">
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Metadata</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="metadata-on-the-editor">Metadata on the Editor</h1>
<h2 id="scope">Scope</h2>
<p>This documentation assumes that you already setup the metadata field(s) on the server side.</p>
<p>To find out more about metadata on the server you can read the <a href="../server-configuration/metadata.html">server documentation</a> or study <a href="../../concepts/metadata/metadata-examples.html">examples</a>.</p>
<h2 id="introduction">Introduction</h2>
<p>In order to make metadata editable to the journalists you need to configure the editor.</p>
<p>The editor offers a UI library of re-usable elements (text fields, select boxes, etc.) for which customers can write their own business logic where necessary. You can also write your own custom UI elements by just requiring them in your <a href="../../GLOSSARY.html#project" class="glossary-term" title="Represents an organisation and consists of users and channels.">project</a>.</p>
<h2 id="screen-types">Screen types</h2>
<p>As you can see in the <a href="../../concepts/metadata/metadata-examples.html">examples</a> you nest your metadata screen configuration in an array under a key. The example defined the key <code>article</code>. This is the screen type for which you define a metadata screen. Currently, we support 2 screen types: <code>articles</code> and <code>pages</code>. In the long run we might take in different channels here too, but for now we don&apos;t have that requirement.</p>
<h2 id="available-ui-elements">Available UI elements</h2>
<p>There are UI elements for:</p>
<ul>
<li>text input (example above)</li>
<li>checkbox</li>
<li>datetime (date and time)</li>
<li>slugs (URL escaped titles)</li>
<li>select boxes</li>
<li>multiselect boxes</li>
<li>image selection</li>
<li>section headers (not a form, only a title)</li>
</ul>
<p>The following subchapters discuss them and show the available options.</p>
<h3 id="text-input">Text Input</h3>
<pre><code class="lang-js">name: <span class="hljs-string">&apos;nameOfYourMetadataTextField&apos;</span>,
form: <span class="hljs-string">&apos;li-meta-text-form&apos;</span>,
config: {
  halfWidth: <span class="hljs-literal">false</span>, <span class="hljs-comment">// optional, false by default</span>
  service: <span class="hljs-string">&apos;nameOfYourServicePlugin&apos;</span>, <span class="hljs-comment">// mandatory</span>
  label: <span class="hljs-string">&apos;foo&apos;</span>, <span class="hljs-comment">// optional, takes camelized name otherwise</span>
  placeholder: <span class="hljs-string">&apos;bar&apos;</span>, <span class="hljs-comment">// optional, takes camelized name otherwise</span>
  readOnly: <span class="hljs-literal">false</span>, <span class="hljs-comment">// optional, false by default</span>
  maxLength: <span class="hljs-number">200</span> <span class="hljs-comment">// optional, integer, not used by default</span>
}
</code></pre>
<p>You need to make sure that your server-side metadata field is of type <code>li-text</code> otherwise you will get errors.
The <code>halfWidth</code> option will render the text input field over half of the screen width if set to true (otherwise over the full width). <code>readOnly</code> and <code>maxLength</code> let you customize the behavior of the text input.
The <code>service</code> option lets you customize the business logic of a metadata form field. Check the section &quot;registering a metadata service&quot; later on how to register a service.
The service plugin for a text input allows you to customize the logic for the following methods:</p>
<pre><code class="lang-js">{
  <span class="hljs-comment">// init the value of the text input</span>
  init (identifier) {},

  <span class="hljs-comment">// set the value</span>
  set (identifier, text) {}
}
</code></pre>
<p>There is a sample implementation in <code>plugins/metadata_services/default_text_service.coffee</code> to help you get started.</p>
<h3 id="select-box">Select Box</h3>
<pre><code class="lang-js">name: <span class="hljs-string">&apos;nameOfYourMetadataSelectField&apos;</span>,
form: <span class="hljs-string">&apos;li-meta-select-form&apos;</span>,
config: {
  service: <span class="hljs-string">&apos;nameOfYourServicePlugin&apos;</span>, <span class="hljs-comment">// mandatory</span>
  halfWidth: <span class="hljs-literal">false</span>, <span class="hljs-comment">// optional, false by default</span>
  label: <span class="hljs-string">&apos;foo&apos;</span>, <span class="hljs-comment">// optional, takes camelized name otherwise</span>
  placeholder: <span class="hljs-string">&apos;bar&apos;</span> <span class="hljs-comment">// optional, takes camelized name otherwise</span>
}
</code></pre>
<p>You need to make sure that your server-side metadata field is of type <code>li-enum</code> or a suitable format you defined yourself in a customized server, otherwise you will get errors.
The <code>halfWidth</code> option will render the text input field over half of the screen width if set to true (otherwise over the full width).
The <code>service</code> option lets you customize the business logic of a metadata form field. Check the section &quot;registering a metadata service&quot; later on how to register a service.
The service plugin for a select box allows you to customize the logic for the following methods:</p>
<pre><code class="lang-js">{
  <span class="hljs-comment">// asynchronous</span>
  <span class="hljs-comment">// needs to call cb with cb(null, selectables) or cb(error)</span>
  <span class="hljs-comment">// the selectables need to be in the format {name: &apos;name&apos;, value: &apos;value&apos;}</span>
  getSelectables (callback) {},

  <span class="hljs-comment">// called when the select box is first rendered and needs to get an initial value</span>
  <span class="hljs-comment">// you will probably use `metadata.get` to get the required value</span>
  initSelection (identifier) {},

  <span class="hljs-comment">// executed when a user select an item.</span>
  <span class="hljs-comment">// the identifier is the name of your metadata field, the selection contains the name/value pair</span>
  <span class="hljs-comment">// you will probably call `metadata.set` in here</span>
  select (identifier, selection) {},

  <span class="hljs-comment">// true if you want to define your own directive for the display of results in the select box</span>
  <span class="hljs-comment">// false otherwise</span>
  hasCustomItem () {},

  <span class="hljs-comment">// the name of a directive that you want to use to render the items (lines) in the select box when</span>
  <span class="hljs-comment">// it is opened. This is handy for example if you want to render them in a hierarchical view.</span>
  <span class="hljs-comment">// make sure that you require the directive in your service so it is loaded.</span>
  getCustomItem () {}
}
</code></pre>
<p>There is a sample implementation in <code>plugins/metadata_services/default_select_service.coffee</code> to help you get started.</p>
<h3 id="multiselect-box">Multiselect Box</h3>
<pre><code class="lang-js">name: <span class="hljs-string">&apos;nameOfYourMetadataMultiselectField&apos;</span>,
form: <span class="hljs-string">&apos;li-meta-multiselect-form&apos;</span>,
config: {
  service: <span class="hljs-string">&apos;nameOfYourServicePlugin&apos;</span>, <span class="hljs-comment">// mandatory</span>
  halfWidth: <span class="hljs-literal">false</span>, <span class="hljs-comment">// optional, false by default</span>
  label: <span class="hljs-string">&apos;foo&apos;</span>, <span class="hljs-comment">// optional, takes camelized name otherwise</span>
  placeholder: <span class="hljs-string">&apos;bar&apos;</span> <span class="hljs-comment">// optional, takes camelized name otherwise</span>
}
</code></pre>
<p>You need to make sure that your server-side metadata field is of a suitable format you defined yourself in a customized server (there is no core data type for multiselects), otherwise you will get errors.
The <code>halfWidth</code> option will render the text input field over half of the screen width if set to true (otherwise over the full width).
The <code>service</code> option lets you customize the business logic of a metadata form field. Check the section &quot;registering a metadata service&quot; later on how to register a service.
The service plugin for a multiselect box allows you to customize the logic for the following methods:</p>
<pre><code class="lang-js">{
  <span class="hljs-comment">// asynchronous</span>
  <span class="hljs-comment">// needs to call cb with cb(null, selectables) or cb(error)</span>
  <span class="hljs-comment">// the selectables need to be in the format {name: &apos;name&apos;, value: &apos;value&apos;}</span>
  getSelectables () {},

  <span class="hljs-comment">// called when the select box is first rendered and needs to get an initial value</span>
  <span class="hljs-comment">// you will probably use `metadata.get` to get the required value</span>
  initSelection (identifier) {},

  <span class="hljs-comment">// executed when a user adds a selection to the multiselection.</span>
  <span class="hljs-comment">// the identifier is the name of your metadata field, the selection contains the name/value pair</span>
  <span class="hljs-comment">// you will probably call `metadata.set` in here</span>
  select (identifier, selection) {},

  <span class="hljs-comment">// executed when a user removes a selection of the multiselect.</span>
  <span class="hljs-comment">// the identifier is the name of your metadata field</span>
  <span class="hljs-comment">// you will probably call `metadata.set` in here</span>
  unselect (identifier) {}
}
</code></pre>
<p>There is a sample implementation in <code>plugins/metadata_services/default_multiselect_service.coffee</code> to help you get started.</p>
<h3 id="image-selection">Image Selection</h3>
<pre><code class="lang-js">name: <span class="hljs-string">&apos;nameOfYourMetadataImageField&apos;</span>,
form: <span class="hljs-string">&apos;li-meta-image-form&apos;</span>
</code></pre>
<p>The image selection was taken over as is from the existing implementation and does not adhere to the general plugin architecture. We should fix this at some point in the future.</p>
<p>For now the content is defined through the method <code>metadata.getEditableImages</code>. Basically this takes the values defined in the <a href="../../GLOSSARY.html#design" class="glossary-term" title="A list of Components and configurations how they can be used
in a Livingdoc and how users can interact with these Components in the
Livingdocs Editor.">design</a> configuration for the images. So for example if you have the following <a href="../../GLOSSARY.html#design" class="glossary-term" title="A list of Components and configurations how they can be used
in a Livingdoc and how users can interact with these Components in the
Livingdocs Editor.">design</a> configuration excerpt:</p>
<pre><code class="lang-json"><span class="hljs-string">&quot;metadata&quot;</span>: [
  {
      <span class="hljs-string">&quot;identifier&quot;</span>: <span class="hljs-string">&quot;teaserImage&quot;</span>,
      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;image&quot;</span>,
      <span class="hljs-string">&quot;matches&quot;</span>: [<span class="hljs-string">&quot;image.image&quot;</span>],
      <span class="hljs-string">&quot;isEditable&quot;</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-string">&quot;imageRatios&quot;</span>: [<span class="hljs-string">&quot;4:3&quot;</span>, <span class="hljs-string">&quot;16:9&quot;</span>]
  }
]
</code></pre>
<p>This would fill the metadata screen with a section for the field &quot;teaserImage&quot; giving 2 selections, a &quot;4:3&quot; image and a &quot;16:9&quot; image. The data format for the image value is hardcoded at the moment and can not be customized. An example of a metadata image format can be found here: <a href="https://gist.github.com/gabrielhase/9d7b0ff518585da844c257591a810ecc" target="_blank">https://gist.github.com/gabrielhase/9d7b0ff518585da844c257591a810ecc</a></p>
<p>The current implementation is especially dangerous since the <code>metadata</code> section in a <a href="../../GLOSSARY.html#design" class="glossary-term" title="A list of Components and configurations how they can be used
in a Livingdoc and how users can interact with these Components in the
Livingdocs Editor.">design</a> config is not really metadata at all, its only a field extractor for metadata.</p>
<p>Also, the markup in the image form does not adhere to the plugin standard, so don&apos;t look here when doing your own plugin.</p>
<h3 id="checkbox">Checkbox</h3>
<pre><code class="lang-js">name: <span class="hljs-string">&apos;nameOfYourMetadataImageField&apos;</span>,
form: <span class="hljs-string">&apos;li-meta-checkbox-form&apos;</span>,
config: {
  halfWidth: <span class="hljs-literal">false</span>, <span class="hljs-comment">// optional, false by default</span>
  label: <span class="hljs-string">&apos;foo&apos;</span> <span class="hljs-comment">// optional, takes camelized name otherwise</span>
}
</code></pre>
<p>You need to make sure that your server-side metadata field is of type <code>li-boolean</code> or a suitable custom format, otherwise you will get errors.
The <code>halfWidth</code> option will render the text input field over half of the screen width if set to true (otherwise over the full width).</p>
<h3 id="datetime">Datetime</h3>
<pre><code class="lang-js">name: <span class="hljs-string">&apos;nameOfYourMetadataImageField&apos;</span>,
form: <span class="hljs-string">&apos;li-meta-datetime-form&apos;</span>,
config: {
  service: <span class="hljs-string">&apos;nameOfYourServicePlugin&apos;</span>, <span class="hljs-comment">// mandatory</span>
  halfWidth: <span class="hljs-literal">false</span>, <span class="hljs-comment">// optional, false by default</span>
  label: <span class="hljs-string">&apos;foo&apos;</span>, <span class="hljs-comment">// optional, takes camelized name otherwise</span>
}
</code></pre>
<p>You need to make sure that your server-side metadata field is of type <code>li-datetime</code> or a suitable custom format, otherwise you will get errors.
The <code>halfWidth</code> option will render the text input field over half of the screen width if set to true (otherwise over the full width).
The <code>service</code> option lets you customize the business logic of a metadata form field. Check the section &quot;registering a metadata service&quot; later on how to register a service.
The service plugin for a datetime allows you to customize the logic for the following methods:</p>
<pre><code class="lang-js">{
  <span class="hljs-comment">// set the date, possibly applying formatting options</span>
  setDate (identifier, value) {},

  <span class="hljs-comment">// get the date, possibly applying formatting options</span>
  getDate (identifier) {},

  <span class="hljs-comment">// this lets you define what dates a user can select in the UI. Handy if you want for example</span>
  <span class="hljs-comment">// to disallow past dates.</span>
  isValidDate (date) {}
}
</code></pre>
<p>There is a sample implementation in <code>plugins/metadata_services/default_date_service.coffee</code> to help you get started.</p>
<h3 id="slug">Slug</h3>
<pre><code class="lang-js">name: <span class="hljs-string">&apos;nameOfYourMetadataImageField&apos;</span>,
form: <span class="hljs-string">&apos;li-meta-slug-form&apos;</span>,
config: {
  service: <span class="hljs-string">&apos;nameOfYourServicePlugin&apos;</span>, <span class="hljs-comment">// mandatory</span>
  halfWidth: <span class="hljs-literal">false</span>, <span class="hljs-comment">// optional, false by default</span>
  label: <span class="hljs-string">&apos;foo&apos;</span>, <span class="hljs-comment">// optional, takes camelized name otherwise</span>
  placeholder: <span class="hljs-string">&apos;bar&apos;</span>, <span class="hljs-comment">// optional, takes camelized name otherwise</span>
  canReset: <span class="hljs-literal">false</span> <span class="hljs-comment">// optional, false by default</span>
}
</code></pre>
<p>You need to make sure that your server-side metadata field is of type <code>li-text</code> or a suitable custom format, otherwise you will get errors.
The <code>halfWidth</code> option will render the text input field over half of the screen width if set to true (otherwise over the full width).
The <code>canReset</code> option if set to true renders a reset button next to the slug input that resets the input to its initial value.
The <code>service</code> option lets you customize the business logic of a metadata form field. Check the section &quot;registering a metadata service&quot; later on how to register a service.
The service plugin for a slug allows you to customize the logic for the following methods:</p>
<pre><code class="lang-js">{
  <span class="hljs-comment">// define the logic for the initial value of a slug</span>
  <span class="hljs-comment">// For example: existing value or normalized metadata title</span>
  initSlug (identifier) {},

  <span class="hljs-comment">// gives you the unnormalized slug input (user input) and lets you define your custom</span>
  <span class="hljs-comment">// normalization logic (depending on what you want to allow in a URL)</span>
  setSlug (identifier, slug) {},

  <span class="hljs-comment">// only important if `canReset` is set to true</span>
  <span class="hljs-comment">// defines to what value the field will be reset</span>
  resetSlug (identifier) {}
}
</code></pre>
<p>There is a sample implementation in <code>plugins/metadata_services/default_slug_service.coffee</code> to help you get started.</p>
<h3 id="section-headers">Section Headers</h3>
<p>Since the whole publish panel form is generated you might want to set your own section headers (titles) in some instances. To do so, just place a markup as the following at the respective place in your config:</p>
<pre><code class="lang-js">articles: [{
  name: <span class="hljs-string">&apos;someFieldBeforeTitle&apos;</span>,
  form: <span class="hljs-string">&apos;li-meta-text-form&apos;</span>
}, {
  type: <span class="hljs-string">&apos;sectionHeader&apos;</span>,
  header: <span class="hljs-string">&apos;MyAwesomeTitle&apos;</span>
}, {
  name: <span class="hljs-string">&apos;someFieldUnderTheHeader&apos;</span>,
  form: <span class="hljs-string">&apos;li-meta-text-form&apos;</span>
}]
</code></pre>
<p>This would render the title <code>MyAwesomeTitle</code> in between the 2 text fields.
Section headers are always clear-fixed and go over the full width.</p>
<h2 id="registering-a-metadata-service">Registering a metadata service</h2>
<p>Some of the forms require you to provide a service that implements the business logic behind those fields. In order to register a service you will need to <a href="../../walkthroughs/add_customizations.html#editor">add it as a customization</a>. To add a fictional metadata service <code>foobar</code> you would add the following line:</p>
<pre><code class="lang-js">editor.metadataServices.register(<span class="hljs-string">&apos;foobar&apos;</span>, <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;path/to/foobar&apos;</span>))
</code></pre>
<p>The file <code>foobar.js</code> defines the metadata service <em>and gives you a metadata instance as well as the angular injector</em>. It should always have the following format:</p>
<pre><code class="lang-js"><span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">{metadata, $injector}</span>) </span>{
  <span class="hljs-comment">// your implementation goes here</span>
}
</code></pre>
<p>In the future we want to write our own injector for this to control more tightly what can be injected and what is private in the core.</p>
<h2 id="creating-a-new-metadata-form-element-core">Creating a new metadata form element (core)</h2>
<!-- TODO GH This is outdated, get an example from NZZ and describe it -->
<p>Currently, new UI elements can only be created in the core. As a core developer you might need to create one though at some point. Here are some things to look out for.</p>
<p>All UI elements should be implemented as Angular components and get at least the 2 bindings <code>name</code> and <code>type</code>. <code>name</code> is the name of the metadata field and <code>type</code> the type of screen for which it is instantiated, i.e. <code>article</code> or <code>page</code>.</p>
<p>A new UI element has to be required in <code>ld_metadata_view.coffee</code>.</p>
<p>The template should have a surrounding <code>li</code> element of this form:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ld-grid__item breathe-quarter--bottom&quot;</span>
    <span class="hljs-attr">ng-class</span>=<span class="hljs-string">&quot;{ &apos;one-half&apos;: selectForm.halfWidth == true }&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
</code></pre>
<p>The <code>ng-class</code> is optional, only use it when you want to expose the <code>halfWidth</code> option on your UI element.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../../walkthroughs/add_customizations.html#editor" class="navigation navigation-prev " aria-label="Previous page: Editor">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="search-filters.html" class="navigation navigation-next " aria-label="Next page: Dashboard search filters">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Metadata","level":"3.3.1","depth":2,"next":{"title":"Dashboard search filters","level":"3.3.2","depth":2,"path":"reference-docs/editor-configuration/search-filters.md","ref":"reference-docs/editor-configuration/search-filters.md","articles":[]},"previous":{"title":"Editor","level":"3.3","depth":1,"anchor":"#editor","path":"walkthroughs/add_customizations.md","ref":"walkthroughs/add_customizations.md#editor","articles":[{"title":"Metadata","level":"3.3.1","depth":2,"path":"reference-docs/editor-configuration/metadata.md","ref":"reference-docs/editor-configuration/metadata.md","articles":[]},{"title":"Dashboard search filters","level":"3.3.2","depth":2,"path":"reference-docs/editor-configuration/search-filters.md","ref":"reference-docs/editor-configuration/search-filters.md","articles":[]},{"title":"Cofigure text editing","level":"3.3.3","depth":2,"path":"reference-docs/editor-configuration/text-editing.md","ref":"reference-docs/editor-configuration/text-editing.md","articles":[]},{"title":"Configure image cropping","level":"3.3.4","depth":2,"path":"reference-docs/editor-configuration/image-cropping.md","ref":"reference-docs/editor-configuration/image-cropping.md","articles":[]},{"title":"Configure editing features","level":"3.3.5","depth":2,"path":"reference-docs/editor-configuration/editing-features.md","ref":"reference-docs/editor-configuration/editing-features.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["livereload"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Livingdocs","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Livingdocs Technical Documentation","gitbook":"*","description":"Technical documentation of the Livingdocs CMS. Covers documentation for designers, integrators and core developers"},"file":{"path":"reference-docs/editor-configuration/metadata.md","mtime":"2017-08-16T16:03:45.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-08-15T12:39:59.671Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

